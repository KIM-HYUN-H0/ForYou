{"ast":null,"code":"import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport cheerio from 'cheerio';\nconst url = 'https://datalab.naver.com/keyword/realtimeList.naver?where=main';\n\nclass Silkum2 extends Component {\n  constructor() {\n    super();\n\n    this.getHtml = async () => {\n      try {\n        return await axios.get(\"https://www.yna.co.kr/sports/all\");\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    this.state = {\n      a: 0\n    };\n    getHtml().then(html => {\n      let ulList = [];\n      const $ = cheerio.load(html.data);\n      const $bodyList = $(\"div.headline-list ul\").children(\"li.section02\");\n      $bodyList.each(function (i, elem) {\n        ulList[i] = {\n          title: $(this).find('strong.news-tl a').text(),\n          url: $(this).find('strong.news-tl a').attr('href'),\n          image_url: $(this).find('p.poto a img').attr('src'),\n          image_alt: $(this).find('p.poto a img').attr('alt'),\n          summary: $(this).find('p.lead').text().slice(0, -11),\n          date: $(this).find('span.p-time').text()\n        };\n      });\n      const data = ulList.filter(n => n.title);\n      return data;\n    }).then(res => log(res));\n  }\n\n  componentDidMount() {\n    /*\r\n    this.setState({\r\n      a : this.sibal()\r\n    })*/\n    this.sibal();\n  }\n\n  async sibal() {\n    const result = await axios({\n      url: url,\n      method: 'GET',\n      headers: {\n        'Accept-Charset': 'UTF=8',\n        'User-Agent': 'Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36'\n      }\n    });\n\n    if (result.status === 200) {\n      console.log('가져오기 완료');\n      const $ = cheerio.load(result);\n      let select = $('span.item_title');\n      console.log('다시찍슴다', $);\n    } else {\n      console.log('가져오기 실패');\n    }\n  }\n\n  render() {\n    const result = this.state.a;\n    return /*#__PURE__*/React.createElement(React.Fragment, null);\n  }\n\n}\n\nexport default Silkum2;","map":{"version":3,"sources":["C:/Users/gusgh/Desktop/reactpractice/foryou/foryou/src/component/Silkum2.js"],"names":["React","Component","axios","cheerio","url","Silkum2","constructor","getHtml","get","error","console","state","a","then","html","ulList","$","load","data","$bodyList","children","each","i","elem","title","find","text","attr","image_url","image_alt","summary","slice","date","filter","n","res","log","componentDidMount","sibal","result","method","headers","status","select","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport cheerio from 'cheerio';\r\nconst url = 'https://datalab.naver.com/keyword/realtimeList.naver?where=main';\r\n\r\nclass Silkum2 extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      a : 0\r\n    }\r\n\r\n    getHtml()\r\n  .then(html => {\r\n    let ulList = [];\r\n    const $ = cheerio.load(html.data);\r\n    const $bodyList = $(\"div.headline-list ul\").children(\"li.section02\");\r\n\r\n    $bodyList.each(function(i, elem) {\r\n      ulList[i] = {\r\n          title: $(this).find('strong.news-tl a').text(),\r\n          url: $(this).find('strong.news-tl a').attr('href'),\r\n          image_url: $(this).find('p.poto a img').attr('src'),\r\n          image_alt: $(this).find('p.poto a img').attr('alt'),\r\n          summary: $(this).find('p.lead').text().slice(0, -11),\r\n          date: $(this).find('span.p-time').text()\r\n      };\r\n    });\r\n\r\n    const data = ulList.filter(n => n.title);\r\n    return data;\r\n  })\r\n  .then(res => log(res));\r\n  }\r\n  getHtml = async () => {\r\n    try {\r\n      return await axios.get(\"https://www.yna.co.kr/sports/all\");\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    /*\r\n    this.setState({\r\n      a : this.sibal()\r\n    })*/\r\n    this.sibal();\r\n  }\r\n  async sibal() {\r\n    const result = await axios({\r\n      url : url,\r\n      method : 'GET',\r\n      headers : {\r\n        'Accept-Charset' : 'UTF=8',\r\n        'User-Agent':'Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36'\r\n      }\r\n    })\r\n    if (result.status ===200) {\r\n      console.log('가져오기 완료');\r\n      const $ = cheerio.load(result);\r\n      let select = $('span.item_title');\r\n      console.log('다시찍슴다', $);\r\n    }\r\n    else { console.log('가져오기 실패'); }\r\n  }\r\n    \r\n\r\n  render() {    \r\n    const result = this.state.a;\r\n    return (\r\n      <>\r\n      \r\n      </>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Silkum2;\r\n"]},"metadata":{},"sourceType":"module"}